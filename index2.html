<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vera Molnar Style Animation</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
  </head>
  <body>
    <script>
      // 🎨 Vera Molnar 스타일 애니메이션 (Dynamic Pattern)

      let colArray = [];
      let grid = 100;  // 그리드 간격
      let margin = 150;  // 여백 설정
      let d;  // 사각형 크기 비율 설정
      let frameInterval = 5; // 몇 프레임마다 새로 갱신할지 결정

      function setup() {
        createCanvas(windowWidth, windowHeight);  // 화면 크기에 맞게 캔버스 크기 설정
        frameRate(30);  // 초당 30프레임 설정

        // 🎨 색상 배열을 setup() 내부에서 초기화
        colArray = [
          color(255, 255, 255),  // White
          color(200, 50, 50),    // Red
          color(55, 188, 25),    // Green
          color(15, 35, 250),    // Blue
          color(125, 235, 250),  // Light Blue
          color(240, 245, 15),   // Yellow
          color(160, 60, 235)    // Purple
        ];
        
        d = grid * 0.99;  // 사각형 크기 비율 설정
      }

      function draw() {
        if (frameCount % frameInterval === 0) {
          background(15, 20, 30);  // 어두운 배경색
          noFill();  // 내부 채우기 없음
          stroke(255);  // 기본 선 색상 설정

          for (let i = margin; i < width - margin; i += grid) {
            for (let j = margin; j < height - margin; j += grid) {
              let colArrayNum = int(random(7));  // 랜덤 색상 선택
              stroke(colArray[colArrayNum]);  // 선 색상 설정
              strokeWeight(3);  // 선 두께 설정

              for (let num = 0; num < 2; num++) {
                let x1 = random(d);
                let y1 = random(d);
                let x2 = random(d);
                let y2 = random(d);
                let x3 = random(d);
                let y3 = random(d);
                let x4 = random(d);
                let y4 = random(d);

                push();
                translate(i, j);  // 셀 위치로 이동
                quad(x1, y1, x2, y2, x3, y3, x4, y4);  // 랜덤한 사각형 그리기
                pop();
              }
            }
          }
        }
      }
    </script>
  </body>
</html>
