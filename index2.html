<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vera Molnar Style Animation</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>
  </head>
  <body>
    <script>
      // ğŸ¨ Vera Molnar ìŠ¤íƒ€ì¼ ì• ë‹ˆë©”ì´ì…˜ (Dynamic Pattern)

      let colArray = [];
      let grid = 100;  // ê·¸ë¦¬ë“œ ê°„ê²©
      let margin = 150;  // ì—¬ë°± ì„¤ì •
      let d;  // ì‚¬ê°í˜• í¬ê¸° ë¹„ìœ¨ ì„¤ì •
      let frameInterval = 5; // ëª‡ í”„ë ˆì„ë§ˆë‹¤ ìƒˆë¡œ ê°±ì‹ í• ì§€ ê²°ì •

      function setup() {
        createCanvas(windowWidth, windowHeight);  // í™”ë©´ í¬ê¸°ì— ë§ê²Œ ìº”ë²„ìŠ¤ í¬ê¸° ì„¤ì •
        frameRate(30);  // ì´ˆë‹¹ 30í”„ë ˆì„ ì„¤ì •

        // ğŸ¨ ìƒ‰ìƒ ë°°ì—´ì„ setup() ë‚´ë¶€ì—ì„œ ì´ˆê¸°í™”
        colArray = [
          color(255, 255, 255),  // White
          color(200, 50, 50),    // Red
          color(55, 188, 25),    // Green
          color(15, 35, 250),    // Blue
          color(125, 235, 250),  // Light Blue
          color(240, 245, 15),   // Yellow
          color(160, 60, 235)    // Purple
        ];
        
        d = grid * 0.99;  // ì‚¬ê°í˜• í¬ê¸° ë¹„ìœ¨ ì„¤ì •
      }

      function draw() {
        if (frameCount % frameInterval === 0) {
          background(15, 20, 30);  // ì–´ë‘ìš´ ë°°ê²½ìƒ‰
          noFill();  // ë‚´ë¶€ ì±„ìš°ê¸° ì—†ìŒ
          stroke(255);  // ê¸°ë³¸ ì„  ìƒ‰ìƒ ì„¤ì •

          for (let i = margin; i < width - margin; i += grid) {
            for (let j = margin; j < height - margin; j += grid) {
              let colArrayNum = int(random(7));  // ëœë¤ ìƒ‰ìƒ ì„ íƒ
              stroke(colArray[colArrayNum]);  // ì„  ìƒ‰ìƒ ì„¤ì •
              strokeWeight(3);  // ì„  ë‘ê»˜ ì„¤ì •

              for (let num = 0; num < 2; num++) {
                let x1 = random(d);
                let y1 = random(d);
                let x2 = random(d);
                let y2 = random(d);
                let x3 = random(d);
                let y3 = random(d);
                let x4 = random(d);
                let y4 = random(d);

                push();
                translate(i, j);  // ì…€ ìœ„ì¹˜ë¡œ ì´ë™
                quad(x1, y1, x2, y2, x3, y3, x4, y4);  // ëœë¤í•œ ì‚¬ê°í˜• ê·¸ë¦¬ê¸°
                pop();
              }
            }
          }
        }
      }
    </script>
  </body>
</html>
